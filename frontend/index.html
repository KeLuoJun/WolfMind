<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WolfMind</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Day/Night Theme Background - Page Center -->
    <div class="theme-bg-global" id="themeBgGlobal">
        <div class="celestial-icon">
            <div class="sun-icon">☀️</div>
            <div class="moon-icon">🌙</div>
        </div>
    </div>

    <div class="app">
        <!-- Sidebar Header -->
        <header class="app-header">
            <div class="header-left">
                <span class="logo">🐺</span>
                <h1>WolfMind</h1>
            </div>
            <div class="header-controls">
                <select id="logSelector" class="select-log">
                    <option value="">加载中...</option>
                </select>
                <button id="refreshBtn" class="btn btn-primary">🔄 刷新</button>
                <label class="toggle-label">
                    <input type="checkbox" id="autoRefresh">
                    <span>自动刷新</span>
                </label>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main">
            <!-- Left: Game Table View -->
            <section class="panel panel-table">
                <div class="game-stats">
                    <div class="stat">
                        <span class="stat-label">游戏ID</span>
                        <span class="stat-value" id="gameId">-</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">开始时间</span>
                        <span class="stat-value" id="startTime">-</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">状态</span>
                        <span class="stat-value status-badge" id="gameStatus">-</span>
                    </div>
                </div>
                <div class="table-viewport">
                    <div class="game-table" id="playersGrid">
                        <!-- Players rendered here -->
                    </div>
                </div>
            </section>

            <!-- Right: Activity Feed -->
            <aside class="panel panel-feed">
                <div class="feed-header">
                    <h2>📜 游戏实况</h2>
                    <button id="showAllBtn" class="btn-link">显示全部</button>
                </div>
                <div class="feed-content" id="roundsContainer">
                    <!-- Rounds rendered here -->
                </div>
            </aside>
        </main>
    </div>

    <!-- Player Detail Modal -->
    <div id="playerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalPlayerName">Player</h3>
                <button class="modal-close" onclick="closePlayerModal()">×</button>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <h4>📊 当前对其他玩家的印象</h4>
                    <div id="modalReflection" class="modal-text">暂无反思内容</div>
                </div>
                <div class="modal-section">
                    <h4>📚 游戏经验</h4>
                    <div id="modalExperience" class="modal-text">加载中...</div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>