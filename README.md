# WolfMindï¼šå¤šæ™ºèƒ½ä½“ç‹¼äººæ€ï¼ˆAgentScopeï¼‰

<div align="center">

åŸºäº LLM + AgentScope çš„ 9 äººç‹¼äººæ€å¯¹å±€ä¸æ¸¸æˆåˆ†æç³»ç»Ÿ

![ç‹¼äººæ€ AI æ¸¸æˆ](./static/werewolf_ai_game.png)

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/)
[![AgentScope](https://img.shields.io/badge/AgentScope-0.1.0+-green.svg)](https://github.com/modelscope/agentscope)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢ [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„) â€¢ [å¯¹å±€æ—¥å¿—ä¸åˆ†æ](#å¯¹å±€æ—¥å¿—ä¸åˆ†æ) â€¢ [æ¸¸æˆè§„åˆ™](#æ¸¸æˆè§„åˆ™) 

</div>

---

## ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å’Œå¤šæ™ºèƒ½ä½“æ¡†æ¶ AgentScope æ„å»ºçš„ç‹¼äººæ€æ¸¸æˆç³»ç»Ÿã€‚9 ä¸ª AI æ™ºèƒ½ä½“å°†æ‰®æ¼”ä¸åŒè§’è‰²ï¼ˆç‹¼äººã€æ‘æ°‘ã€é¢„è¨€å®¶ã€å¥³å·«ã€çŒäººï¼‰ï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€è¿›è¡Œæ¨ç†ã€è®¨è®ºã€æŠ•ç¥¨ï¼Œå±•ç°å‡ºå¤æ‚çš„ç­–ç•¥åšå¼ˆå’Œç¤¾äº¤æ¨ç†èƒ½åŠ›ï¼Œå¹¶æä¾› Web æ§åˆ¶å°ç”¨äºå¯åŠ¨/åœæ­¢æ¸¸æˆä¸å®æ—¶æŸ¥çœ‹å¯¹å±€æ—¥å¿—ã€‚

### æ ¸å¿ƒäº®ç‚¹

- ğŸ¤– **æ™ºèƒ½ AI ç©å®¶**ï¼šåŸºäº LLM çš„æ™ºèƒ½ä½“ï¼Œå…·å¤‡æ¨ç†ã€æ¬ºéª—ã€åä½œèƒ½åŠ›
- ğŸ­ **å®Œæ•´è§’è‰²ç³»ç»Ÿ**ï¼šæ”¯æŒç‹¼äººã€æ‘æ°‘ã€é¢„è¨€å®¶ã€å¥³å·«ã€çŒäººç­‰ç»å…¸è§’è‰²
- ğŸ“ **è¯¦ç»†æ¸¸æˆæ—¥å¿—**ï¼šè‡ªåŠ¨è®°å½•æ¯å±€æ¸¸æˆçš„å®Œæ•´è¿‡ç¨‹ï¼Œä¾¿äºåˆ†æå’Œå›æ”¾
- ğŸ”„ **ç©å®¶ç»éªŒ**ï¼šå®æ—¶æ›´æ–°å¹¶ä¿å­˜ç©å®¶çš„æ¸¸æˆç»éªŒ
- ğŸŒ **å¤šæ¨¡å‹æ”¯æŒ**ï¼šå…¼å®¹ DashScopeï¼ˆé€šä¹‰åƒé—®ï¼‰ã€OpenAIç­‰å¤šç§ LLM
- âš¡ **å¼‚æ­¥å¹¶è¡Œ+èŠ‚æµ**ï¼šæŠ•ç¥¨ã€å›åˆåæ€ç¯èŠ‚ä½¿ç”¨ asyncio å¹¶è¡Œè°ƒç”¨ï¼Œå¹¶é€šè¿‡å°å¹…å»¶è¿Ÿå¹³æ»‘è¯·æ±‚ï¼Œé™ä½æ¨¡å‹ç«¯ç¬æ—¶å‹åŠ›

## åŠŸèƒ½ç‰¹æ€§

### å·²å®ç°åŠŸèƒ½ âœ…

- âœ… å®Œæ•´çš„ç‹¼äººæ€æ¸¸æˆæµç¨‹ï¼ˆå¤œæ™š/ç™½å¤©é˜¶æ®µï¼‰
- âœ… 9 ä¸ªè§’è‰²çš„ç‹¬ç«‹è¡Œä¸ºé€»è¾‘
- âœ… æ™ºèƒ½ä½“ä¹‹é—´çš„è‡ªç„¶è¯­è¨€äº¤äº’
- âœ… æ¸¸æˆçŠ¶æ€ç®¡ç†å’Œèƒœè´Ÿåˆ¤å®š
- âœ… è¯¦ç»†çš„æ¸¸æˆæ—¥å¿—è®°å½•ç³»ç»Ÿï¼ˆè‡ªåŠ¨æ ‡è®°ç»“æŸçŠ¶æ€ï¼Œå¼‚å¸¸ç»ˆæ­¢äº¦ä¼šè½ç›˜ï¼‰
- âœ… ç©å®¶ç»éªŒæ›´æ–°ä¸ä¿å­˜
- âœ… å¤š LLM æä¾›å•†æ”¯æŒ
- âœ… ç©å®¶ç”»åƒå’Œå¯¹æ‰‹å»ºæ¨¡
- âœ… AI æ™ºèƒ½ä½“è‡ªä¸»å­¦ä¹ å’Œç­–ç•¥ä¼˜åŒ–
- âœ… ç»éªŒå’Œç­–ç•¥çŸ¥è¯†åº“
- âœ… Web æ§åˆ¶å°ï¼šæ—¥å¿—åˆ—è¡¨/æŸ¥çœ‹ã€è‡ªåŠ¨åˆ·æ–°ã€å¯åŠ¨/åœæ­¢æ¸¸æˆ
- âœ… åŸºäºæ—¥å¿—çš„æ·±åº¦æ•°æ®åˆ†æï¼ˆå¿ƒç†åˆ†æã€ç¤¾äº¤ç½‘ç»œåˆ†æï¼‰

### å¼€å‘ä¸­åŠŸèƒ½ ğŸš§


## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- Python 3.8+
- [uv](https://github.com/astral-sh/uv)ï¼ˆPython åŒ…ç®¡ç†å™¨ï¼‰

### 1) å®‰è£…

```bash
git clone https://github.com/KeLuoJun/WolfMind.git
cd WolfMind

# ä¸€é”®å®‰è£…å‰åç«¯ä¾èµ–
npm run setup:all

# æˆ–åˆ†åˆ«å®‰è£…
npm run setup          # å®‰è£…å‰ç«¯ä¾èµ–
npm run setup:backend  # å®‰è£…åç«¯ä¾èµ–
```

### 2) é…ç½®

```bash
copy .env.example .env
```

ç¼–è¾‘ `.env`ï¼Œè‡³å°‘é…ç½® `MODEL_PROVIDER` ä¸å¯¹åº”çš„ API Keyã€‚

### 3) è¿è¡Œ

```bash
# ä¸€é”®å¯åŠ¨å‰åç«¯å¼€å‘æœåŠ¡å™¨
npm run dev

# æˆ–åˆ†åˆ«å¯åŠ¨
npm run backend   # å¯åŠ¨åç«¯ (http://localhost:8000)
npm run frontend  # å¯åŠ¨å‰ç«¯ (http://localhost:5173)
```

### 4) æ„å»º

```bash
npm run build  # æ„å»ºå‰ç«¯ç”Ÿäº§ç‰ˆæœ¬
```

### ä»…è¿è¡Œåç«¯ï¼ˆCLI / æ— å‰ç«¯ï¼‰

```bash
uv run python backend/main.py
```
è¿è¡Œåï¼Œåœ¨data/game_logsä¸­æŸ¥çœ‹å®æ—¶çš„æ¸¸æˆä¿¡æ¯ã€‚

---

## é…ç½®

### åŸºç¡€é…ç½®ï¼ˆå¿…å¡«ï¼‰

```bash
# dashscope / openai / ollama
MODEL_PROVIDER=dashscope
```

- DashScopeï¼šè®¾ç½® `DASHSCOPE_API_KEY`
- OpenAI å…¼å®¹ï¼šè®¾ç½® `OPENAI_API_KEY`ã€`OPENAI_BASE_URL`ã€`OPENAI_MODEL_NAME`
- Ollamaï¼šç¡®ä¿æœ¬åœ°å·²å®‰è£… Ollama å¹¶æ‹‰å–æ¨¡å‹ï¼ˆé€šå¸¸ä¸éœ€è¦ API Keyï¼‰

### å¯é€‰é¡¹

```bash
# å¯é€‰ï¼šå¯ç”¨ AgentScope Studio å¯è§†åŒ–
ENABLE_STUDIO=false

# å¯é€‰ï¼šæ¸¸æˆç»“æŸåè‡ªåŠ¨ç”Ÿæˆåˆ†ææŠ¥å‘Š
AUTO_ANALYZE=false
```

### OpenAI ç©å®¶çº§é…ç½®ï¼ˆå¯é€‰ï¼‰

`OPENAI_PLAYER_MODE=single|per-player`

- `single`ï¼ˆé»˜è®¤ï¼‰ï¼š9 ä½ç©å®¶å…±ç”¨å…¨å±€ OpenAI é…ç½®
- `per-player`ï¼šéœ€è¦åŒæ—¶å¡«å†™ `OPENAI_API_KEY_P1..P9`ã€`OPENAI_BASE_URL_P1..P9`ã€`OPENAI_MODEL_NAME_P1..P9`ï¼ˆä¸å¡«å†™ä¸ä¼šå›é€€åˆ°å…¨å±€é…ç½®ï¼›ç¼ºä¸€ä¼šæŠ¥é”™ï¼‰

---

## é¡¹ç›®ç»“æ„

```
WolfMind/
â”œâ”€â”€ backend/                  # åç«¯æ ¸å¿ƒ
â”‚   â”œâ”€â”€ main.py               # å…¥å£ï¼šå¯åŠ¨ä¸€å±€å®Œæ•´å¯¹å±€
â”‚   â”œâ”€â”€ config.py             # é…ç½®åŠ è½½/æ ¡éªŒ/è„±æ•æ‰“å°
â”‚   â”œâ”€â”€ core/                 # æ ¸å¿ƒå¼•æ“ä¸æ—¥å¿—/è®°å¿†
â”‚   â”‚   â”œâ”€â”€ game_engine.py
â”‚   â”‚   â”œâ”€â”€ game_logger.py
â”‚   â”‚   â”œâ”€â”€ knowledge_base.py
â”‚   â”‚   â””â”€â”€ utils.py
â”‚   â”œâ”€â”€ models/               # è§’è‰²ä¸ Pydantic ç»“æ„
â”‚   â”‚   â”œâ”€â”€ roles.py
â”‚   â”‚   â””â”€â”€ schemas.py
â”‚   â”œâ”€â”€ prompts/              # ä¸»æŒäººä¸è§’è‰²æç¤ºè¯
â”‚   â”‚   â”œâ”€â”€ game_prompts.py
â”‚   â”‚   â””â”€â”€ role_prompts.py
â”‚   â”œâ”€â”€ analysis/             # æ—¥å¿—è§£æä¸åˆ†æPipeline
â”‚   â”‚   â”œâ”€â”€ __main__.py
â”‚   â”‚   â”œâ”€â”€ pipeline.py
â”‚   â”‚   â”œâ”€â”€ agents.py
â”‚   â”‚   â””â”€â”€ log_parser.py
â”‚   â”œâ”€â”€ .env.example
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ data/                     # è¿è¡ŒæœŸæ•°æ®ï¼ˆå¯¹å±€æ—¥å¿—/ç»éªŒ/åˆ†ææŠ¥å‘Šï¼‰
â”‚   â”œâ”€â”€ game_logs/
â”‚   â”œâ”€â”€ experiences/
â”‚   â””â”€â”€ analysis_reports/
â”œâ”€â”€ frontend/                 # React å‰ç«¯ (Vite + Tailwind)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/            # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ services/         # WebSocket æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ styles/           # å…¨å±€æ ·å¼
â”‚   â”‚   â””â”€â”€ main.jsx          # å…¥å£
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ package.json
â””â”€â”€ README.md
```

---

## å¯¹å±€æ—¥å¿—ä¸åˆ†æ

### å¯¹å±€æ—¥å¿—

- æ—¥å¿—ç›®å½•ï¼š`data/game_logs/`ï¼ˆé»˜è®¤ `game_<timestamp>.log`ï¼‰
- ç»éªŒå­˜æ¡£ï¼š`data/experiences/players_experience_<timestamp>.json`
- ç»ˆæ­¢ä¿æŠ¤ï¼šå³ä¾¿é€šè¿‡æ§åˆ¶å°â€œåœæ­¢æ¸¸æˆâ€å¼ºåˆ¶ç»“æŸè¿›ç¨‹ï¼Œä¹Ÿä¼šåœ¨æœ€æ–°æ—¥å¿—å°¾éƒ¨è¿½åŠ æ”¶å£å—ï¼ˆç»“æŸæ—¶é—´ã€å¼‚å¸¸ç»ˆæ­¢æ ‡è®°ç­‰ï¼‰ï¼Œé¿å…æ—¥å¿—ç¼ºå°¾

### è‡ªåŠ¨åˆ†æ

å°† `.env` ä¸­ `AUTO_ANALYZE=true`ï¼Œæ¸¸æˆç»“æŸåä¼šè‡ªåŠ¨ç”Ÿæˆ HTML æŠ¥å‘Šåˆ° `data/analysis_reports/`ã€‚

### æ‰‹åŠ¨åˆ†æï¼ˆCLIï¼‰

```bash
uv run python -m backend.analysis \
  --log data/game_logs/game_xxxx.log \
  --experience data/experiences/players_experience_xxxx.json
```

å‚æ•°ï¼š

- `--log`ï¼šå¿…å¡«ï¼Œæ¸¸æˆæ—¥å¿—æ–‡ä»¶è·¯å¾„
- `--experience`ï¼šå¯é€‰ï¼Œç©å®¶ç»éªŒæ–‡ä»¶è·¯å¾„
- `--out`ï¼šå¯é€‰ï¼Œè¾“å‡º HTML è·¯å¾„ï¼ˆé»˜è®¤ `data/analysis_reports/report_<timestamp>.html`ï¼‰

### å¯¹å±€ç¤ºä¾‹æ–‡ä»¶

å¯¹å±€ç¤ºä¾‹æ–‡ä»¶ä½äº `static/`ï¼š

- [å®Œæ•´å¯¹å±€æ—¥å¿—ï¼ˆGLM-4.6ï¼‰](static/game_20251210_150049_glm-4.6.log)
- [å®Œæ•´å¯¹å±€ç»éªŒå­˜æ¡£ï¼ˆGLM-4.6ï¼‰](static/players_experience_20251210_150049_glm-4.6.json)

---

## æ¸¸æˆè§„åˆ™

### è§’è‰²ï¼ˆ9 äººï¼‰

- ç‹¼äººï¼ˆ3ï¼‰ï¼šå¤œæ™šé€‰æ‹©å‡»æ€ç›®æ ‡ï¼Œç™½å¤©éšè—èº«ä»½è¯¯å¯¼
- æ‘æ°‘ï¼ˆ3ï¼‰ï¼šé€šè¿‡è®¨è®ºä¸æŠ•ç¥¨æ‰¾å‡ºç‹¼äºº
- é¢„è¨€å®¶ï¼ˆ1ï¼‰ï¼šå¤œæ™šæŸ¥éªŒä¸€åç©å®¶èº«ä»½
- å¥³å·«ï¼ˆ1ï¼‰ï¼šè§£è¯ï¼ˆæ•‘äººï¼‰ä¸æ¯’è¯ï¼ˆæ€äººï¼‰å„ä¸€æ¬¡ï¼ˆåŒå¤œä¸å¯åŒè¯ï¼‰
- çŒäººï¼ˆ1ï¼‰ï¼šè¢«æ·˜æ±°æ—¶å¯å¼€æªå¸¦èµ°ä¸€äºº

### æµç¨‹æ¦‚è¦

1. å¤œæ™šï¼šç‹¼äººæŠ•ç¥¨å‡»æ€ â†’ å¥³å·«ç”¨è¯ï¼ˆå¯é€‰ï¼‰ â†’ é¢„è¨€å®¶æŸ¥éªŒ â†’ï¼ˆçŒäººè‹¥è¢«åˆ€ï¼Œå¯ç«‹å³å¼€æªï¼‰
2. ç™½å¤©ï¼šå…¬å¸ƒæ­»äº¡ â†’ ä¾æ¬¡å‘è¨€ â†’ å…¬å¼€æŠ•ç¥¨ â†’ å¹³ç¥¨æœ€å¤š 3 è½® PKï¼ˆå†å¹³ç¥¨æŒ‰å§“åé¡ºä½æ·˜æ±°ï¼‰ â†’ï¼ˆçŒäººè‹¥è¢«æŠ•å‡ºï¼Œå¯å¼€æªï¼‰
3. èƒœè´Ÿï¼šæ¸…ç©ºç‹¼é˜Ÿåˆ™å¥½äººèƒœï¼›è‹¥ç¥èŒæˆ–å¹³æ°‘ä¸€ä¾§è¢«æ¸…ç©ºï¼Œæˆ–ç‹¼äººæ•°é‡è¾¾åˆ°å­˜æ´»äººæ•°ä¸€åŠï¼Œåˆ™ç‹¼äººèƒœ

---

## æŠ€æœ¯æ ˆ

- **å¤šæ™ºèƒ½ä½“æ¡†æ¶**ï¼š[AgentScope](https://github.com/modelscope/agentscope)
- **å¤§è¯­è¨€æ¨¡å‹**ï¼šDashScope / OpenAI / Ollama
- **ç¯å¢ƒç®¡ç†**ï¼š[uv](https://github.com/astral-sh/uv)
- **ç¼–ç¨‹è¯­è¨€**ï¼šPython 3.8+
- **æ•°æ®éªŒè¯**ï¼šPydantic
- **å¼‚æ­¥ç¼–ç¨‹**ï¼šasyncio


---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ Star æ”¯æŒä¸€ä¸‹ï¼**

Made with â¤ï¸ by the Werewolf AI Team

</div>
